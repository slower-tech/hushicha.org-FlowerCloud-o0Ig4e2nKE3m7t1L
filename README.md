
大家好，我是汤师爷\~


在工作当中，我们经常会听到以下说法：


* 产品负责人说，现在的业务架构太复杂，需要仔细梳理下。
* 技术领导说，这个项目很复杂，需要做下系统架构方案评审。
* 研发经理说，这次秒杀活动访问量非常大，需要用到高并发架构方案。
* 一线研发说，互联网大厂都会用到微服务架构，我要学学微服务架构设计。


上面提到的架构到底是指什么？这些说法究竟是对还是错？


其实上面的说法都是对的，只是采用的视角不一样。


复杂系统涉及多方利益相关者，如客户、产品经理、研发、销售、运营和管理层等。由于背景和认知差异，每个人看待系统的角度和方法都不尽相同。


为控制复杂度，我们为不同角色设计特定的架构描述物。通过分类和定义，让每种架构描述都有其侧重点，让每个利益相关者能快速获取他们最关心的信息。


要实现这一目标，我们首先需要理解"视角"和"视图"这两个关键概念。


## 架构视角


什么是视角？大白话就是你站在什么地方看。


我们以城市系统为例，你站在城市的某条马路上，能看到什么？


能看到几座楼房，几排树木，几条大马路，熙熙攘攘的行人。


但是你坐在飞机上看，能看到什么？


能看到一片片的楼盘，能看到群山，能看到江河湖海。所以，你能看到什么，和你站在什么地方看有很大关系，同时也会影响你看待事物的粒度。


如果把视角比作一个坐标点，那它需要一套坐标系，坐标系通常有4个维度：广度、深度、视图类型、时间。


广度是指看待事物的宽度，以业务流程为例，根据出发点不同，有时需要看一个部门内的流程，有时需要看多个部门的协作流程，有时需要看端到端跨部门流程。


深度是指看待事物时，要到达哪个细节层次，例如看业务流程，需要看到组织级、部门级、还是某个岗位的具体操作步骤。看软件系统，需要看到系统级、应用级、模块级、还是一行行的代码。


广度和深度一般是相互影响的，如果看待事物的广度越宽，那么层次就会越抽象，这和组织架构的设计也是相辅相成的，一般高层管理者看问题非常全面，但对细节不关注，一线执行人员，对问题的细节非常了解，但视角却非常窄。


时间维度比较好理解，就是看待事物的时间点，过去、现在、还是未来。


视图类型是为利益干系人量身打造的一组关注点的集合，接下来会详细介绍。


![](https://img2024.cnblogs.com/other/2625446/202411/2625446-20241122114243375-241760368.jpg)


## 架构视图


什么是视图？大白话就是你想看到什么。


视图是为利益干系人量身打造的一组关注点的集合。


同样以城市系统为例，想要赶早高峰的上班族，他的关注点是哪条路线上班最快，因此他需要一副公交地铁路线图。


想要租房的租客，他的关注点是公司附近有哪些小区，租金多少，因此他需要一副公司附近的小区地图。


想要疏通下水道的工人，他的关注点是下水道是怎样排布的，因此他需要一副下水道的排布图。


同一个城市系统，不同角色的关注点是完全不一样的，想要获取的信息也是完全不一样，如果把所有信息杂糅在一起，不做视图隔离，导致的结果就是信息太庞杂，每个人都很难获取想要的信息。


同理，不同干系人看待软件系统的关注点也是迥然不同的，为了把不同人的关注点区分开，诞生了很多软件视图的分类方法，比较著名的有“4\+1”视图，TOGAF的业务架构、应用架构、数据架构、技术架构等视图分类法。


## TOGAF的4种架构视图


![](https://img2024.cnblogs.com/other/2625446/202411/2625446-20241122114244218-1856149932.png)


1996年，克林格.科恩法案颁布，美国联邦政府立法，强制要求政府机构使用企业架构理论构建自己的IT系统，最重要的机构是国防部、财政部，这一举措，直接让政府机构的数字化水平，以火箭般的速度飞速发展。


同一时间，大名鼎鼎的TOGAF也在快速发展，它大量参考了政府机构的企业架构理论，沉淀出一套更加通用的企业架构方法论。


目前80%的福布斯排行榜前50名的企业，以及60％的美国500强企业，都在使用TOGAF理论改善自身的IT架构。


我们重点说下TOGAF的4种视图类型：业务架构，应用架构，数据架构，技术架构。


它们是企业架构中的四个主要部分，它们关注的方面和功能不同，但相互关联和支持，共同构成了企业的总体架构。


一个清晰的企业架构可以确保业务流程顺畅、信息系统合理支持、构建步骤有序。企业架构是项目决策的重要依据，也是企业未来发展的基础。


![](https://img2024.cnblogs.com/other/2625446/202411/2625446-20241122114245145-925647707.jpg)


* 业务架构定义了为实现企业的业务战略，企业将自身业务结构化表达为全面的、多维度的抽象模型，包括商业模式、价值流、业务能力、业务流程、组织架构，以及它们与战略、产品、策略、项目执行、利益干系人之间的关系。
* 应用架构定义了企业中的应用系统的结构和行为，这些系统之间的关系，以及它们如何与业务流程对接。
* 数据架构定义了企业如何收集、存储、管理和使用数据，涉及到数据模型、数据管理、数据集成和治理的设计和实施。
* 技术架构定义IT基础设施和技术组件的结构，通过它们可以支撑起企业对业务、数据、应用服务的需求，它们包括但不限于硬件、可部署的软件包、网络、技术中间件、通信设施、运算设施等。


通过视图与视角，我们可以分离关注点，将复杂问题进行拆解，让每个局部的复杂度控制在一个可以接受的范围。同时，团队有了统一的架构认知坐标系，进一步促成了业务标准化，通过分离不变点与变化点，提炼出可复用的业务组件，快速响应业务需求变化。


## 架构视图的核心概念


![](https://img2024.cnblogs.com/other/2625446/202411/2625446-20241122114245830-474405863.jpg)


每种架构视图都包含一系列核心概念，通过这些概念可以层层剖析整个业务系统，系统化地理解和管理整体架构，确保各个层面的协调与一致。


* 业务架构：商业模式，价值流，业务能力，业务流程，组织架构。
* 应用架构：应用服务，应用结构，应用交互。
* 数据架构：数据模型，数据库技术。
* 技术架构：软件部署，技术组件、基础设施。



> 本文已收录于，我的技术网站：[tangshiye.cn](https://github.com) 里面有，算法Leetcode详解，面试八股文、BAT面试真题、简历模版、架构设计，等经验分享。


 本博客参考[FlowerCloud机场](https://yunbeijia.com)。转载请注明出处！
